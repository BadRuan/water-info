# 开发进展

## Why?
:::tip 为什么开发这个功能？

为防汛考虑，方便职能部门迅速直观的获取有效水位数据信息。

:::

## 开发进展
1. 完成加密解密函数
2. 完成请求及响应数据加密解密
3. 完成[TDEngine数据库](https://docs.taosdata.com/)基础代码编写
4. 完成项目结构优化, 业务分层, 数据提取及入库业务开发
5. 完成[日志](https://docs.python.org/zh-cn/3/library/logging.html)功能
6. 完善异常报错机制
7. 完成异步API请求，性能得到提升
8. 完成[Pydantic](https://docs.pydantic.dev/latest/)数据结构优化
9. 完成Dockerfile文件编写

## 后续开发计划
1. 需要完善测试功能
2. docker compose
3. 增加单元测试

## 开端
开发开始于参观扬州市江都水利枢纽后，一个蓄谋已久的尝试。

## 开发日记

### 2024.3.20起

首次目标站点为安徽省水文网站水情简报页面，该网站先前为明文数据请求API，获取的数据也是明文。

为逆向出水位数据，研读了该网站``dataTool.js``文件，花了约两周时间，成功逆向出秘文信息，这也是后续开发的关键。

### 2024.4.6

完成项目初步部署，完成单例模式管理数据库连接调整。

### 2024.4.14

项目迈上新台阶(v2.0)，完成Python协程异步，使爬虫效率得到性能提升，更换TDengine时序型数据库，更加契合数据保存形式。

### 2024.4.23

项目爬虫部分基本开发完成，挂载云服务器、树莓派均能稳定运行。